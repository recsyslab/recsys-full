---
title: æ¨è–¦ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè¡Œ
layout: default
---

{% include header.html %}

{% raw %}

# æ¨è–¦ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè¡Œ

## ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
(recsys_full) offline$ pip install torch==2.5.1 torchvision==0.20.1 torchaudio==2.5.1 --index-url https://download.pytorch.org/whl/cu124
# PyTorch2.6ä»¥ä¸Šã®å ´åˆã€RecBoleã®ã‚³ãƒ¼ãƒ‰ã®ä¿®æ­£ãŒå¿…è¦ã«ãªã‚‹ã€‚
# ...ï¼ˆ3åˆ†ç¨‹åº¦ï¼‰...
(recsys_full) offline$ pip install ray
(recsys_full) offline$ pip install pyarrow
(recsys_full) offline$ pip install kmeans_pytorch
(recsys_full) offline$ pip install recbole
(recsys_full) offline$ pip freeze
...ï¼ˆç•¥ï¼‰...
absl-py==2.2.1
aiosignal==1.3.2
attrs==25.3.0
click==8.1.8
colorama==0.4.4
colorlog==4.7.2
filelock==3.13.1
frozenlist==1.5.0
fsspec==2024.6.1
grpcio==1.71.0
Jinja2==3.1.4
jsonschema==4.23.0
jsonschema-specifications==2024.10.1
kmeans-pytorch==0.3
Markdown==3.7
MarkupSafe==2.1.5
mpmath==1.3.0
msgpack==1.1.0
narwhals==1.33.0
networkx==3.3
nvidia-cublas-cu12==12.4.5.8
nvidia-cuda-cupti-cu12==12.4.127
nvidia-cuda-nvrtc-cu12==12.4.127
nvidia-cuda-runtime-cu12==12.4.127
nvidia-cudnn-cu12==9.1.0.70
nvidia-cufft-cu12==11.2.1.3
nvidia-curand-cu12==10.3.5.147
nvidia-cusolver-cu12==11.6.1.9
nvidia-cusparse-cu12==12.3.1.170
nvidia-nccl-cu12==2.21.5
nvidia-nvjitlink-cu12==12.4.127
nvidia-nvtx-cu12==12.4.127
plotly==6.0.1
protobuf==6.30.2
pyarrow==19.0.1
PyYAML==6.0.2
ray==2.44.1
recbole==1.2.0
referencing==0.36.2
rpds-py==0.24.0
setuptools==70.2.0
sympy==1.13.1
tabulate==0.9.0
tensorboard==2.19.0
tensorboard-data-server==0.7.2
texttable==1.7.0
thop==0.1.1.post2209072238
torch==2.5.1+cu124
torchaudio==2.5.1+cu124
torchvision==0.20.1+cu124
triton==3.1.0
typing_extensions==4.12.2
Werkzeug==3.1.3
...ï¼ˆç•¥ï¼‰...
```

## VSCodeã®èµ·å‹•
```bash
(recsys_full) offline$ code .
```

## æ¨è–¦å‡¦ç†ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®æº–å‚™
1. ä¸‹è¨˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€`offline/src/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã™ã‚‹ã€‚
   - [recsyslab / recsys-full / src / offline / src /](https://github.com/recsyslab/recsys-full/tree/main/src/offline/src)
     - `recommenders/__init__.py`
     - `recommenders/base_recommender.py`
     - `recommenders/bpr_recommender.py`
     - `recommenders/movies_movies_recommender.py`
     - `recommenders/pupularity_recommender.py`
     - `utils/__init__.py`
     - `utils/dataset.py`
     - `utils/recommend_result.py`
     - `config.yaml`
     - `offline.ini`
     - `update.py`

```bash
(recsys_full) offline$ tree src/
src/
â”œâ”€â”€ config.yaml                       # <-
â”œâ”€â”€ keygen.py
â”œâ”€â”€ ml2rdb.py
â”œâ”€â”€ offline.ini                       # <-
â”œâ”€â”€ recommenders                      # <-
â”‚Â Â  â”œâ”€â”€ __init__.py                   # <-
â”‚Â Â  â”œâ”€â”€ base_recommender.py           # <-
â”‚Â Â  â”œâ”€â”€ bpr_recommender.py            # <-
â”‚Â Â  â”œâ”€â”€ movies_movies_recommender.py  # <-
â”‚Â Â  â””â”€â”€ popularity_recommender.py     # <-
â”œâ”€â”€ update.py                         # <-
â”œâ”€â”€ user2encrypt.py
â””â”€â”€ utils                             # <-
    â”œâ”€â”€ __init__.py                   # <-
    â”œâ”€â”€ dataset.py                    # <-
    â””â”€â”€ recommend_result.py           # <-

3 directories, 14 files
```

## æ¨è–¦ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè¡Œ
```bash
(recsys_full) offline$ cd src/
(recsys_full) offline/src$ python update.py --ini offline.ini
processing Dataset.to_rating_matrix: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 100836/100836 [00:02<00:00, 48964.62it/s]
processing Dataset.to_movies_movies_similarity_matrix: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 9742/9742 [19:58<00:00,  8.13it/s]
processing PopularityRecommender.recommend: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 20/20 [00:00<00:00, 302.71it/s]
processing MoviesMoviesRecommender.recommend: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 9742/9742 [00:02<00:00, 3700.48it/s]
processing BPRRecommender.recommend: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 611/611 [00:02<00:00, 215.14it/s]
elapsed_time:1355.972[sec]
# ...ï¼ˆ25åˆ†ç¨‹åº¦ï¼‰...
```

## çµæœã®ç¢ºèª
```bash
(recsys_full) offline/src$ cd ../
(recsys_full) offline$ tree data/
data/
â”œâ”€â”€ genres.csv
â”œâ”€â”€ ml-latest-small
â”‚Â Â  â”œâ”€â”€ README.txt
â”‚Â Â  â”œâ”€â”€ links.csv
â”‚Â Â  â”œâ”€â”€ movies.csv
â”‚Â Â  â”œâ”€â”€ ratings.csv
â”‚Â Â  â””â”€â”€ tags.csv
â”œâ”€â”€ ml-ls.inter                          # <-
â”œâ”€â”€ ml-ls.item                           # <-
â”œâ”€â”€ ml-ls.user                           # <-
â”œâ”€â”€ ml-rdb
â”‚Â Â  â”œâ”€â”€ genres.csv
â”‚Â Â  â”œâ”€â”€ links.csv
â”‚Â Â  â”œâ”€â”€ movies.csv
â”‚Â Â  â”œâ”€â”€ movies_genres.csv
â”‚Â Â  â”œâ”€â”€ ratings.csv
â”‚Â Â  â”œâ”€â”€ tags.csv
â”‚Â Â  â””â”€â”€ users.csv
â”œâ”€â”€ movies.csv
â”œâ”€â”€ movies_genres.csv
â”œâ”€â”€ movies_movies_similarity_matrix.csv  # <-
â”œâ”€â”€ rating_matrix.csv                    # <-
â”œâ”€â”€ ratings.csv
â”œâ”€â”€ reclist_bpr.csv                      # <-
â”œâ”€â”€ reclist_movies_movies.csv            # <-
â”œâ”€â”€ reclist_popularity.csv               # <-
â”œâ”€â”€ tags.csv
â”œâ”€â”€ users.csv
â””â”€â”€ users_.csv

3 directories, 27 files
(recsys_full) offline$ cd data/
(recsys_full) offline/data$
 less rating_matrix.csv
 less movies_movies_similarity_matrix.csv
 less ml-ls.inter
 less ml-ls.item
 less ml-ls.user
 less reclist_popularity.csv
 less reclist_movies_movies.csv
 less reclist_bpr.csv
```

#### å‚è€ƒ
1. é¢¨é–“æ­£å¼˜ï¼Œé£¯å¡šæ´¸äºŒéƒï¼Œæ¾æ‘å„ªä¹Ÿï¼Œã€è‘—æ¨è–¦ã‚·ã‚¹ãƒ†ãƒ å®Ÿè·µå…¥é–€ â€•ä»•äº‹ã§ä½¿ãˆã‚‹å°å…¥ã‚¬ã‚¤ãƒ‰ã€ï¼Œã‚ªãƒ©ã‚¤ãƒªãƒ¼ãƒ»ã‚¸ãƒ£ãƒ‘ãƒ³ï¼Œ2022ï¼
1. ä¸è¬ç§€ä½œï¼Œã€ç‰¹é›†3 æœ€æ–°ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ³ç·å®Ÿè£… å”èª¿ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‹ã‚‰æ·±å±¤å­¦ç¿’ã¾ã§ã€ï¼ŒWEB+DB PRESS Vol.129ï¼Œpp.69-100ï¼ŒæŠ€è¡“è©•è«–ç¤¾ï¼Œ2022ï¼
1. [[ğŸ›BUG] Wrong number of users and items in datasets information Â· Issue #1516 Â· RUCAIBox/RecBole](https://github.com/RUCAIBox/RecBole/issues/1516)
1. [RecBole v1.2.0 â€” RecBole 1.2.0 documentation](https://recbole.io/docs/index.html)

{% endraw %}
